<div class="jumbotron">
    <h2>Importation des Entités</h2>
</div>

<div flash-alert active-class="in alert" class="fade" duration="5000">
    <!-- Manually hide the alert with `hide()` -->
    <button type="button" class="close" ng-click="hide()">&times;</button>
    <span class="alert-message">{{flash.message}}</span>
</div>

<div class="row">
    <div class="col-sm-12">
        <div class="alert alert-info">
        <p>Déposez le dossier contenant les images de votre testament (dont le nom doit correspondre au numéro de numérisation du testament) dans le dossier web/toImport de l'API.</p>
        </div>
        <form class="form-horizontal">
            <fieldset>
                <label>À propos de l'entité abstraite</label>

                <div class="form-group">
                    <label for="admin-entity-edit-entity-willNumber" class="control-label col-sm-6">Numéro de numérisation du testament :</label>
                    <div class="col-sm-6">
                        <input type="number" id="admin-entity-edit-entity-willNumber" class="form-control" data-ng-model="entity.willNumber" />
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <label>À propos du testament</label>

                <div class="form-group">
                    <label for="admin-entity-edit-will-callNumber" class="control-label col-sm-6">Côte :</label>
                    <div class="col-sm-6">
                        <input id="admin-entity-edit-will-callNumber" class="form-control" data-ng-model="entity.will.callNumber" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="admin-entity-edit-will-minuteDate" class="control-label col-sm-6">Date de la minute :</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input id="admin-entity-edit-will-minuteDate" class="form-control datepicker" data-ng-model="entity.will.minuteDate" />
                            <span class="input-group-addon">
                                <span class="fa fa-calendar"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="admin-entity-edit-will-willWritingDate" class="control-label col-sm-6">Date d'écriture du testament :</label>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <input id="admin-entity-edit-will-willWritingDate" class="form-control datepicker" data-ng-model="entity.will.willWritingDate" />
                            <span class="input-group-addon">
                                <span class="fa fa-calendar"></span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="admin-entity-edit-will-willWritingPlace" class="control-label col-sm-6">Lieu d'écriture du testament :</label>
                    <div class="col-sm-6">
                        <input id="admin-entity-edit-will-willWritingPlace" class="form-control" data-ng-model="entity.will.willWritingPlace" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="admin-entity-edit-will-testator" class="control-label col-sm-6">Testateur :</label>
                    <div class="col-sm-6">
                        <uib-tabset active="activeJustified" justified="true">
                            <uib-tab index="0" heading="List">
                                <div class="well">
                                    <select class="form-control" id="admin-entity-edit-will-testator" data-ng-model="entity.will.testator" name="admin-entity-edit-will-testator" data-ng-options="testator.id as testator.full_name for testator in testators" required></select>
                                </div>
                            </uib-tab>
                            <uib-tab index="1" heading="New">
                                <div class="well">
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-fullName" class="control-label col-sm-3">Nom complet :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-fullName" class="form-control" data-ng-model="entity.will.testator.fullName" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-surname" class="control-label col-sm-3">Nom de famille :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-surname" class="form-control" data-ng-model="entity.will.testator.surname" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-firstnames" class="control-label col-sm-3">Prénoms :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-firstnames" class="form-control" data-ng-model="entity.will.testator.firstnames" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-profession" class="control-label col-sm-3">Profession :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-profession" class="form-control" data-ng-model="entity.will.testator.profession" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-address" class="control-label col-sm-3">Adresse :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-address" class="form-control" data-ng-model="entity.will.testator.address" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-dateOfBirth" class="control-label col-sm-3">Date de naissance :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-dateOfBirth" class="form-control" data-ng-model="entity.will.testator.dateOfBirth" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-placeOfBirth" class="control-label col-sm-3">Lieu de naissance :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-placeOfBirth" class="form-control" data-ng-model="entity.will.testator.placeOfBirth" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-dateOfDeath" class="control-label col-sm-3">Date de décès :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-dateOfDeath" class="form-control" data-ng-model="entity.will.testator.dateOfDeath" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-placeOfDeath" class="control-label col-sm-3">Lieu de décès :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-placeOfDeath" class="form-control" data-ng-model="entity.will.testator.placeOfDeath" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-deathMention" class="control-label col-sm-3">Mention de mort :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-deathMention" class="form-control" data-ng-model="entity.will.testator.deathMention" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-memoireDesHommes" class="control-label col-sm-3">Lien vers Mémoire des Hommes :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-memoireDesHommes" class="form-control" data-ng-model="entity.will.testator.memoireDesHommes" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-regiment" class="control-label col-sm-3">Régiment :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-regiment" class="form-control" data-ng-model="entity.will.testator.regiment" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="admin-entity-edit-will-testator-rank" class="control-label col-sm-3">Rang :</label>
                                        <div class="col-sm-9">
                                            <input id="admin-entity-edit-will-testator-rank" class="form-control" data-ng-model="entity.will.testator.rank" />
                                        </div>
                                    </div>
                                </div>
                            </uib-tab>
                        </uib-tabset>
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <label>À propos des ressources</label>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="alert alert-info">
                            <p>L'entité compte actuellement {{ entity.resources.length }} ressources. <a data-ng-click="form.addResource(entity.resources.length)">Cliquez pour ajouter une ressource</a></p>
                        </div>
                    </div>
                </div>
                <div class="row" data-ng-repeat="resource in entity.resources">
                    <div class="col-sm-12">
                        <div class="well">
                            <div class="">
                                <h4>Ressource {{ $index+1 }}</h4>
                            </div>
                            <div class="form-group">
                                <label for="admin-entity-edit-resource-type" class="control-label col-sm-6">Type de ressource :</label>
                                <div class="col-sm-6">
                                    <select id="admin-entity-edit-resource-type" name="admin-entity-edit-resource-type" class="form-control" data-ng-model="resource.type" required>
                                        <option value="" disabled>Sélectionnez ...</option>
                                        <option value="page">Page</option>
                                        <option value="envelop">Enveloppe</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="admin-entity-edit-resource-orderInWill" class="control-label col-sm-6">Index de la ressource dans le testament :</label>
                                <div class="col-sm-3">
                                    <input type="number" id="admin-entity-edit-resource-orderInWill" class="form-control" data-ng-model="resource.orderInWill" required />
                                </div>
                                <div class="col-sm-1">
                                    <p class="form-control-static">/</p>
                                </div>
                                <div class="col-sm-2">
                                    <p class="form-control-static">{{ entity.resources.length }}</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="admin-entity-edit-resource-image" class="control-label col-sm-6">Identifiants des images :</label>
                                <div class="col-sm-6">
                                    <input id="admin-entity-edit-resource-image" class="form-control" data-ng-model="resource.images"  />
                                    <p class="help-block">Identifiants des images de la ressource, séparés par des virgules. Ex: 02a, 02b, 02c</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="admin-entity-edit-resource-notes" class="control-label col-sm-6">Notes (de numérisation ou autre) :</label>
                                <div class="col-sm-6">
                                    <input id="admin-entity-edit-resource-notes" class="form-control" data-ng-model="resource.notes" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
            <div class="text-center">
                <button data-ng-click="form.submit.action()" class="btn btn-lg btn-primary">Soumettre <i data-ng-if="form.submit.loading == true" class="fa fa-spin fa-circle-o-notch"></i></button>
            </div>
        </form>
    </div>
</div>